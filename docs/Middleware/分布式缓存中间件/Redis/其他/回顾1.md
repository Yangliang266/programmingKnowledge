1 nosql

支持高并发



2 压缩方式

List

quicklist快速列表

ziplist和linkedlist的结合体

ziplist存有相互指向的列表，每个列表又有一个指针指向数据的存储

hash

ziplist

连续内存块组成的压缩列表

hashtable

数组+链表



3 虚拟槽



4 一致性hash算法

取2的32次方的模形成一个闭合圆环，每个节点分布在圆环上

每个服务计算多个hash，分布在圆环，使得在节点少的情况下，数据能够分布均匀

5 分布式锁- lua

锁的创建与释放需要一个合理的判断流程且不能中断，lua脚本保持原子性即执行过程中，其他命令处于阻塞状态





./configure --prefix=/usr/local/midmn/erlang --with-ssl --enable-threads --enable-smp-support --enable-kernel-poll --enable-hipe --without-javac



https://yliang.oss-cn-shanghai.aliyuncs.com/file/vipsearch.crx

