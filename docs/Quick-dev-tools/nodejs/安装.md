**1  清除旧nodejs**

- 卸载原有nodejs control
- 删除%appdata% npm和npm-cache（默认路径下）

![img](C:\Users\xiaomi\AppData\Local\YNote\data\yangl546493589@163.com\c21d50e9b49b410e9de5fc128ec60506\微信截图_20190914214349.png)

- 或者删除自己配置的npm_global和npm_cache的文件夹

**2 安装**

![node-v10.16.0-x64.msi](C:/Users/xiaomi/AppData/Local/YNote/data/yangl546493589@163.com/05c9f9be88374df0a8176e8d646595b3/attachment.png)

**3 环境配置**

**3.1 不更改原有路径 运行cmd命令**

```
// C:\Users\xiaomi   .npmrc 是配置文件(想恢复成默认路径可以删除配置) 

npm config set registry https://registry.npm.taobao.org 

npm install -g cnpm --registry=https://registry.npm.taobao.org 

cnpm.cmd在路径为%appdata%的npm文件下

npm.cmd在路径为d:\softwise\node下
```

**3.2 更改原有路径**

```
npm config set prefix "D:\softwise\node\node_global"  // 全局文件夹

npm config set cache "D:\softwise\node\node_cache" // 缓存文件夹

npm config set registry https://registry.npm.taobao.org
```

**3.2.1 环境变量配置**

![img](C:\Users\xiaomi\AppData\Local\YNote\data\yangl546493589@163.com\6a044a36600b4dfc853b8dea1316ddf8\微信截图_20190914224613.png)

cnpm.cmd在路径为D:\softwise\node\node_global下

npm.cmd在路径为D:\softwise\node下

**3.2.2 运行cmd命令**

npm install -g cnpm --registry=https://registry.npm.taobao.org 

cnpm install @angular/cli@~6.2.9 -g

**4 检查安装是否成功**

npm -v

cnpm -v

node -v

ng -v

**5 angular 启动时内存泄漏**

在所在目录的node_module文件下 ng.cmd和ngc.cmd添加

![img](C:\Users\xiaomi\AppData\Local\YNote\data\yangl546493589@163.com\5ac22092dc444407b6d20ae0360e9fde\clipboard.png)

--max_old_space_size=32768